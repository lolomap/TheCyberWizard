[gd_scene load_steps=15 format=3 uid="uid://clemh6xrgjgfd"]

[ext_resource type="Script" path="res://core/CastStream.gd" id="1_2c1nl"]
[ext_resource type="TileSet" uid="uid://wyb5kcm8c2fb" path="res://assets/tilesets/main.tres" id="1_n6p54"]
[ext_resource type="Material" uid="uid://7v03g5qng0ep" path="res://assets/shaders/cast_stream.tres" id="2_8mhod"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="4_cmglu"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_2D.gd" id="5_ervm8"]
[ext_resource type="Script" path="res://core/CameraPosition.gd" id="6_6hid5"]
[ext_resource type="Script" path="res://core/Player.cs" id="7_12iga"]
[ext_resource type="SpriteFrames" uid="uid://dx2hg1d4sif2i" path="res://assets/animations/player.tres" id="7_xlrs2"]
[ext_resource type="PackedScene" uid="uid://ca3n6givblqfb" path="res://prefabs/cyber_box.tscn" id="8_7r515"]
[ext_resource type="PackedScene" uid="uid://byjg51mw2peml" path="res://prefabs/barrel.tscn" id="9_gg1bo"]
[ext_resource type="PackedScene" uid="uid://byd4med0gfg83" path="res://prefabs/barrel_famaly.tscn" id="9_ud1ys"]
[ext_resource type="PackedScene" uid="uid://bqj2f687vnja2" path="res://prefabs/box.tscn" id="10_k4ugk"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_q3mji"]
size = Vector2(8, 7)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3ylo4"]
size = Vector2(7, 23)

[node name="Level1" type="Node2D"]

[node name="Tilemap" type="TileMap" parent="."]
y_sort_enabled = true
tile_set = ExtResource("1_n6p54")
cell_quadrant_size = 32
format = 2
layer_0/tile_data = PackedInt32Array(393223, 1, 0, 458759, 1, 0, 524295, 1, 0, 589831, 1, 0, 589832, 1, 0, 655368, 1, 0, 655369, 1, 0, 655370, 1, 0, 655371, 1, 0, 589835, 65537, 0, 589836, 1, 0, 524300, 1, 0, 458764, 1, 0, 458763, 1, 0, 393227, 1, 0, 393226, 65537, 0, 327690, 1, 0, 327689, 1, 0, 393225, 1, 0, 393224, 65537, 0, 655367, 1, 0, 327687, 1, 0, 327688, 1, 0, 327691, 1, 0, 393228, 1, 0, 655372, 1, 0, 524299, 1, 0, 524297, 131073, 0, 524296, 1, 0, 589833, 1, 0, 458760, 1, 0, 589834, 1, 0, 327692, 1, 0, 458761, 1, 0, 458762, 1, 0, 524298, 1, 0, 327686, 131073, 1, 393222, 131073, 1, 458758, 131073, 1, 524294, 131073, 1, 589830, 131073, 1, 655366, 131073, 1, 327693, 65537, 1, 393229, 65537, 1, 458765, 65537, 1, 262151, 1, 1, 262152, 196609, 0, 262153, 1, 1, 262154, 1, 1, 262155, 196609, 0, 262156, 1, 1, 720903, 196609, 1, 720904, 720897, 1, 720906, 655361, 1, 720907, 196609, 1, 720908, 196609, 1, 720902, 262145, 1, 720909, 327681, 1, 262150, 393217, 1, 262157, 458753, 1, 524301, 65537, 1, 589837, 65537, 1, 655373, 65537, 1, 786440, 131073, 1, 851976, 131073, 1, 917512, 262145, 1, 786442, 65537, 1, 851978, 65537, 1, 917514, 327681, 1, 917513, 196609, 1, 720905, 1, 0, 786441, 1, 0, 851977, 1, 0)

[node name="Player" type="CharacterBody2D" parent="Tilemap"]
position = Vector2(310, 230)
motion_mode = 1
script = ExtResource("7_12iga")

[node name="CastStream" type="Node2D" parent="Tilemap/Player"]
visible = false
position = Vector2(0, -14)
script = ExtResource("1_2c1nl")

[node name="GPUParticles2D" type="GPUParticles2D" parent="Tilemap/Player/CastStream"]
modulate = Color(0.74902, 0.262745, 0, 1)
amount = 500
process_material = ExtResource("2_8mhod")
lifetime = 0.5
preprocess = 0.5
local_coords = true

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Tilemap/Player"]
position = Vector2(0, -14)
sprite_frames = ExtResource("7_xlrs2")
animation = &"idle"
autoplay = "idle"
frame = 2
frame_progress = 0.010241

[node name="CollisionMovement" type="CollisionShape2D" parent="Tilemap/Player"]
position = Vector2(0, -2.5)
shape = SubResource("RectangleShape2D_q3mji")

[node name="Trigger" type="Area2D" parent="Tilemap/Player"]
position = Vector2(0, -14)

[node name="TriggerShape" type="CollisionShape2D" parent="Tilemap/Player/Trigger"]
position = Vector2(0, 3.5)
shape = SubResource("RectangleShape2D_3ylo4")

[node name="Barrel" parent="Tilemap" instance=ExtResource("9_gg1bo")]
position = Vector2(358, 266)

[node name="Box" parent="Tilemap" instance=ExtResource("10_k4ugk")]
position = Vector2(370, 228)

[node name="CyberBox" parent="Tilemap" instance=ExtResource("8_7r515")]
position = Vector2(401, 227)

[node name="BarrelFamaly" parent="Tilemap" instance=ExtResource("9_ud1ys")]
position = Vector2(262, 259)

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(310, 230)
zoom = Vector2(4, 4)

[node name="PhantomCameraHost" type="Node" parent="Camera2D"]
script = ExtResource("4_cmglu")

[node name="PhantomCamera2D" type="Node2D" parent="."]
position = Vector2(310, 230)
script = ExtResource("5_ervm8")
priority = 0
zoom = Vector2(4, 4)
follow_mode = 1
follow_target = NodePath("../CameraPosition")
follow_parameters/damping = true
follow_parameters/damping_value = 10.0
tween_parameters = null
tween_on_load = true
inactive_update_mode = 0

[node name="CameraPosition" type="Node2D" parent="."]
position = Vector2(310, 230)
script = ExtResource("6_6hid5")

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.858824, 0.929412, 1, 1)
